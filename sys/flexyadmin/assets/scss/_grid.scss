// Defaults
.grid {
  
  // Table cells Focus/Editing
  td.has-focus {background-color:$brand-warning-light}
/*  td.is-editing {padding:2px;box-shadow:0px 0px 1px $brand-danger inset;}*/
  
  // Relation item
  .grid-relation-item {
    border:solid 1px $gray-lighter;
    border-radius:$border-radius;
    padding:.15rem .35rem;
    margin-right:.25rem;
  }
  .grid-relation-item:hover {border-color:$brand-primary;background-color:$brand-warning-light};
  
  // Thumb
  .color-thumb-sm {
    width:5.5rem;
    padding:0.125rem .5rem;
    margin:0;
    text-align:center;
    text-transform:uppercase;
    border-radius:$border-radius;
  }
  
  
  // HEADERS
  .grid-actions {
    .grid-action {
      margin:0 0 0 1rem;
      float:left;
    }
  }
  #grid-find {
    padding-top:.4rem;
    padding-bottom:0.1rem;
    margin-right:.25rem;
    border-color:$body-bg;
  }

  
  // Extended find Header
  .card-header.grid-extended-find {
    background-color:$gray-lighter!important;
    color:$brand-primary!important;
    h4 {
      float:left;
      position:absolute;
      color:$gray-light;
      opacity:.35;
    }
    form {
      float:right!important;
      margin:0 0 .25rem;clear:both;
    }
    form[index="0"]>.grid-extended-search-and {
      display:none;
    }
    form:last-child{
      margin-bottom:0;
    }
    .form-group,.flexy-button {margin-left:1px;}
  }
   
   // CARD BLOCK
   .card-block {
      padding:0;
   }
   
   // UPLOAD ROW
   .grid-upload {
     background-color:$gray-lightest;
     input#browsefiles {
       display:none;
     }
     .grid-upload-dropbox {
       color:$gray-light;
       .flexy-button {
         margin-right:.35rem;
       }
       .upload-spinner {
         visibility:hidden;
         margin-right:.5rem;
       }
       .upload-spinner.show {visibility:visible;}
     }
   }
   .grid-upload.dropping {
     background-color:$brand-warning!important;
     color:$body-bg!important;
     border-color:$brand-danger!important;
     * {
       color:$body-bg!important;
     }
   }
   
   // TABLE
   table {
     margin-bottom:0;
   }
   
   // Table header
   th {
     overflow:hidden;
     text-overflow:
     ellipsis;
     white-space:nowrap;
     cursor:pointer;
     >* {
       display:inline-block;
       position:relative;
     }
     a {
       text-decoration:none;
     }
     span {
       white-space:nowrap;
//       text-transform:uppercase;
     }
     >span.fa {
       position:relative;
       float:right;
       margin-top:1px;
     }
   }
   
  // Header sort (for media)
  #dropdown-sort {
    .dropdown-menu {
      position: absolute;
      min-width:4rem;
    }
    .dropdown-item {padding:.1rem 1rem .1rem .35rem;padding-left:2rem;}
    .dropdown-item.selected {padding-left:.35rem;}
  }
  #dropdown-sort.dropdown.open {
     .dropdown-menu {
        display:block;
        z-index:999999;
      }
   }
   
   // Table primary header
   th.grid-header-type-hidden.text-primary {
     width:2rem;
     white-space:nowrap;
   }
   
   
   th.grid-header-muted {
     font-weight:normal;
   }
   
   
  // Table cell (grid-cell)
  td {
     overflow:hidden;
     text-overflow:ellipsis;
     white-space:nowrap;
     max-width:250px;
     input {padding:0;float:left;width:100%;color:$brand-primary;}
  }
  td.grid-cell-full-show {
    max-width:none;
  }
  td.grid-cell-wrap {
    overflow: auto;
    white-space: normal;
    max-width:none;
  }
  td.grid-cell-type-color {
    max-width:6.25rem;
    min-width:5rem;
  }
  td.grid-cell-type-checkbox {text-align:center;}
  td.grid-cell-editable {
    cursor:pointer;
    span {
      display:block;
      width:100%;
      height: 100%;
      min-height:1.5rem;
    }
  }
   
   td.grid-cell-type-relation {
     div {display:inline;}
   }
   td.grid-cell-type-relation.show-all {
     max-width:none;
     div {display:block;}
   }

   
   // FOOTER
   .card-footer {
     padding:.35rem .35rem;
     .actions {
       float:left;
       margin-right:1rem;
     }
   }
}


// TREE
.grid.grid-type-tree tbody {
  td.is-tree-field[level="1"] {padding-left:1rem;}
  td.is-tree-field[level="2"] {padding-left:2rem;}
  td.is-tree-field[level="3"] {padding-left:3rem;}
  td.is-tree-field[level="4"] {padding-left:4rem;}
  td.is-tree-field[level="5"] {padding-left:5rem;}
  td.is-tree-field[level="6"] {padding-left:6rem;}
  td.is-tree-field[level="7"] {padding-left:7rem;}
}


// MEDIA
.grid.grid-media-view-thumbs, .grid.grid-media-view-small {
  
  table.grid-data {
    
    // Header
    thead th {
      overflow: visible;
    }
    thead th:not(.grid-actions) {
      display:none;
    }
    
    // Body
    tbody {
      display:flex;
      flex-wrap:wrap;
      
      tr {
        display: block;
        float:left;
        position:relative;
        width:14rem;
        height:16.75rem;
        margin:.75rem;
        overflow:visible;
        border-radius:$border-radius;
        overflow:hidden;
      }
      tr:hover {
        border-color:$brand-primary;
        box-shadow:0 0 .1rem $gray;
        td.action {display:block;}
      }
      tr.is-selected {
        background-color:$gray-lighter;
        border-color:$brand-primary;
        box-shadow:0 0 .5rem $gray;
      }

      td {
        display:none;
        border:none;
        padding:0px;
        background-color:transparent;
        input {text-align:center;}
      }
      
      td.action {
        // display:none;
        position:absolute;
        text-align:center;
        background-color:rgba(255,255,255,.8);
        width: 100%;
        padding:.25rem;

        z-index:999;
        .flexy-button {display:none;}
        .flexy-button.action-remove, .flexy-button.action-select {display:inline;margin-top:-.25rem;}
      }
      
      td[name="media_thumb"] {
        display:block;
        position: absolute;
        width:100%;
        height:100%;
        .flexy-thumb {
          display: block;
          position: absolute;
          width:auto;
          max-width:14rem;
          height:auto;
          max-height:16rem;
          bottom: 2.25rem; left:50%;
          transform: translate(-50%,0);
        }
      }
      td[name="alt"] {
        display: block;
        position:absolute;
        bottom:.35rem;
        width:100%;
        text-align:center;
        overflow:hidden;
        text-overflow:ellipsis;
      }

      td[name='name'],
      td[name='file'],
      td[name='path'],
      td[name='type'],
      td[name='date'],
      td[name='size'],
      td[name='width'],
      td[name='height'] {
        // display:none
      }
      
      
      // UPLOAD ROW
      tr.grid-upload {
        background-color:$gray-lightest;
        border:dashed 2px $brand-warning;
        td.grid-upload-dropbox {
          display:block;
          width:100%;
          height:100%;
          text-align:center;
          padding:1rem;
          white-space:normal;
          .flexy-button {
            display:block;
            margin:auto;
            margin-top:4rem;
          }
          .upload-spinner {display:block;margin:auto;}
        }
      }
      tr.grid-upload:hover {
        border-color:$brand-danger;
        box-shadow:none;
      }
      
    }
    
  }
  
}

.grid.grid-media-view-small {
  table.grid-data {
    tbody {
      tr {
        width:7rem;
        height:8.75rem;
      }
      td[name="media_thumb"] .flexy-thumb {
        max-width:6rem;
        max-height:8rem;
      }
      // UPLOAD ROW
      tr.grid-upload {
        td.grid-upload-dropbox {
          padding:.25rem;
          .flexy-button {
            margin-top:0rem;
          }
        }
      }
    }
  }
}
  
  

/* SORTABLE */
.sortable-chosen {
  background-color:$gray-lightest;
  box-shadow:0 0 .5rem $gray-dark;
}
.draggable-handle {
  cursor:move;
}
.sortable-fallback {
  display:none;
}



/* GRAPH */
.graph {
  .bar {padding:0;}
  .graph-bar {background-color:$brand-warning;}
  .vertical-text {}
}
  