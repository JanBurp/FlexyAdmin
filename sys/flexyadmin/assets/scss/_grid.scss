// Defaults
.grid {
  
  // Table cells Focus/Editing
  td.has-focus {background-color:lighten($brand-warning,40%);}
/*  td.is-editing {padding:2px;box-shadow:0px 0px 1px $brand-danger inset;}*/
  
  // Relation item
  .grid-relation-item {
    border:solid 1px $gray-lighter;
    border-radius:$border-radius;
    padding:.15rem .35rem;
    margin-right:.25rem;
  }
  .grid-relation-item:hover {border-color:$brand-primary;background-color:lighten($brand-warning,40%);};
  
  // Thumb
  .color-thumb-sm {
    width:5.5rem;
    padding:0.125rem .5rem;
    margin:0;
    text-align:center;
    text-transform:uppercase;
    border-radius:$border-radius;
  }
  
  
  // HEADERS
  #grid-find {
    padding-top:.4rem;
    padding-bottom:0.1rem;
  }

  
  // Extended find Header
  .card-header.grid-extended-find {
    background-color:$gray-lighter!important;
    color:$brand-primary!important;
    h4 {
      float:left;
      position:absolute;
      color:$gray-light;
      opacity:.35;
    }
    form {
      float:right!important;
      margin:0 0 .25rem;clear:both;
    }
    form[index="0"]>.grid-extended-search-and {
      display:none;
    }
    form:last-child{
      margin-bottom:0;
    }
  }
   
   // CARD BLOCK
   .card-block {
      padding:0;
   }
   
   // UPLOAD ROW
   .grid-upload {
     background-color:$gray-lightest;
     input#browsefiles {
       display:none;
     }
     .grid-upload-dropbox {
       color:$gray-light;
       .flexy-button {
         margin-right:.35rem;
       }
       .upload-spinner {
         visibility:hidden;
         margin-right:.5rem;
       }
       .upload-spinner.show {visibility:visible;}
     }
   }
   .grid-upload.dropping {
     background-color:$brand-warning!important;
     color:$body-bg!important;
     border-color:$brand-danger!important;
     * {
       color:$body-bg!important;
     }
   }
   
   // TABLE
   table {
     margin-bottom:0;
   }
   
   // Table header
   th {
     overflow:hidden;
     text-overflow:
     ellipsis;
     white-space:nowrap;
     cursor:pointer;
     >* {
       display:inline-block;
       position:relative;
     }
     a {
       text-decoration:none;
     }
     span {
       white-space:nowrap;
//       text-transform:uppercase;
     }
     >span.fa {
       position:relative;
       float:right;
       margin-top:1px;
     }
   }
   
   // Header sort (for media)
   #dropdown-sort {
     .dropdown-menu {min-width:4rem;}
     .dropdown-item {padding:.1rem 1rem .1rem .35rem;padding-left:2rem;}
     .dropdown-item.selected {padding-left:.35rem;}
   }
   #dropdown-sort:hover, #dropdown-sort.dropdown.open {
     .dropdown-menu {display:block;}
   }
   
   // Table primary header
   th.grid-header-type-primary {
     width:2rem;
     white-space:nowrap;
   }
   
   // Table cell (grid-cell)
   td {
     overflow:hidden;
     text-overflow:ellipsis;
     white-space:nowrap;
     max-width:250px;
     input {padding:0;float:left;width:100%;color:$brand-primary;}
   }
   td.grid-cell-type-color {max-width:0;min-width:5rem;}
   td.grid-cell-type-checkbox {text-align:center;}
   td.grid-cell-editable {cursor:pointer;}
   
   // FOOTER
   .card-footer {
     padding:.35rem .35rem;
     .actions {
       float:left;
       margin-top:.25rem;
       margin-right:1rem;
     }
   }
}


// TREE
.grid.grid-type-tree tbody {
  td[level="1"][name="str_title"] {padding-left:1rem;}
  td[level="2"][name="str_title"] {padding-left:2rem;}
  td[level="3"][name="str_title"] {padding-left:3rem;}
  td[level="4"][name="str_title"] {padding-left:4rem;}
  td[level="5"][name="str_title"] {padding-left:5rem;}
  td[level="6"][name="str_title"] {padding-left:6rem;}
  td[level="7"][name="str_title"] {padding-left:7rem;}
}


// MEDIA
.grid.grid-media-view-thumbs, .grid.grid-media-view-small {
  
  table.grid-data {
    
    // Header
    thead th:not(.grid-actions) {
      display:none;
    }
    
    // Body
    tbody {
      display:flex;
      flex-wrap:wrap;
      
      tr {
        position:relative;
        width:15rem;
        height:16.75rem;
        margin:.75rem;
        overflow:visible;
        border-radius:$border-radius;
        overflow:hidden;
      }
      tr:hover {
        border-color:$brand-primary;
        box-shadow:0 0 .1rem $gray;
      }
      tr.is-selected {
        background-color:$gray-lighter;
        border-color:$brand-primary;
        box-shadow:0 0 .5rem $gray;
      }
      
      td {
        border:none;
        padding:0px;
        background-color:transparent;
        input {text-align:center;}
      }
      td.action {display:none;}
      td[name="media_thumb"] {
        width:100%;
        height:100%;
      }
      td[name="media_thumb"] .flexy-thumb {
        position:absolute;
        width:auto;
        max-width:14rem;
        height:auto;
        max-height:16rem;
        bottom: 2.25rem; left:50%;
        transform: translate(-50%,0);
      }
      td[name="alt"] {
        position:absolute;
        bottom:.35rem;
        width:100%;
        text-align:center;
        overflow:hidden;
        text-overflow:ellipsis;
      }

      td[name='name'],
      td[name='file'],
      td[name='path'],
      td[name='type'],
      td[name='date'],
      td[name='size'],
      td[name='width'],
      td[name='height'] {
        display:none
      }
      
      
      // UPLOAD ROW
      tr.grid-upload {
        background-color:$gray-lightest;
        border:dashed 2px $gray-lighter;
        td.grid-upload-dropbox {
          display:block;
          width:100%;
          height:100%;
          text-align:center;
          padding:1rem;
          white-space:normal;
          .flexy-button {
            display:block;
            margin:auto;
            margin-top:4rem;
          }
          .upload-spinner {display:block;margin:auto;}
        }
      }
      
    }
    
  }
  
}

.grid.grid-media-view-small {
  table.grid-data {
    tbody {
      tr {
        width:7rem;
        height:8.75rem;
      }
      td[name="media_thumb"] .flexy-thumb {
        max-width:6rem;
        max-height:8rem;
      }
      // UPLOAD ROW
      tr.grid-upload {
        td.grid-upload-dropbox {
          padding:.25rem;
          .flexy-button {
            margin-top:0rem;
          }
        }
      }
    }
  }
}
  
  

/* SORTABLE */
.sortable-chosen {
  background-color:$gray-lightest;
  box-shadow:0 0 .5rem $gray-dark;
}
.draggable-handle {
  cursor:move;
}
.sortable-fallback {
  display:none;
}

  