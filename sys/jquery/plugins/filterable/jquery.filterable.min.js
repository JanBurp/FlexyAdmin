(function(a){a.fn.filterable=function(b,d){var c=a.extend({},a.fn.filterable.defaults,b);return this.each(function(){var g=a(this);var h=a('<div class="'+c.queryCss+'">');switch(c.queryPosition){case"before":h.insertBefore(g);break;case"after":h.insertAfter(g);break}var e=a('<input type="text" />').appendTo(h);if(c.queryLabel){h.prepend("<label>"+c.queryLabel+"</label>")}var f=function(i){var j=e.val().toLowerCase();g.find(c.affects).each(function(){var k=a(this);if(k.text().toLowerCase().indexOf(j)>=0){k.show()}else{k.hide()}});if(d!=undefined&&d!=""){d.call(this,i.keyCode)}};if(c.queryButton){a('<input type="button" value="'+c.queryButton+'" />').appendTo(h).click(f)}else{e.keyup(f)}})};a.fn.filterable.defaults={affects:"> *",queryLabel:"",queryButton:"",queryPosition:"before",queryCss:"ui-filterable-query",callback:""}})(jQuery);